<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animated Glassmorphism Login Page</title>
  <link rel="stylesheet" href="/css/login.css"> <!-- Link to external CSS file -->
  <style>
    .password-container {
      position: relative;
    }

    .password-container input {
      width: 100%; /* Ensure the input fills the container */
      padding-right: 40px; /* Reserve space for the icon */
    }

    .password-container .toggle-password {
  position: absolute;
  top: 20%;
  right: 10px;
  cursor: pointer;
  font-size: 1.1em;  /* Adjust the icon size if necessary */
}

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
    }

    .shake {
      animation: shake 0.3s;
    }
  </style>
</head>
<body>
  <section>
    <div class="leaves">
      <div class="set">
        <div><img src="/images/leaf_01.png" alt="Leaf"></div>
        <div><img src="/images/leaf_03.png" alt="Leaf"></div>
        <div><img src="/images/leaf_01.png" alt="Leaf"></div>
        <div><img src="/images/leaf_04.png" alt="Leaf"></div>
        <div><img src="/images/leaf_01.png" alt="Leaf"></div>
        <div><img src="/images/leaf_01.png" alt="Leaf"></div>
        <div><img src="/images/leaf_03.png" alt="Leaf"></div>
        <div><img src="/images/leaf_04.png" alt="Leaf"></div>
      </div>
    </div>
    <img src="/images/bg2.jpg" class="bg" alt="Background">
    <img src="/images/girl.png" class="girl" alt="Girl">
    <img src="/images/tree.png" class="trees" alt="Trees">
    <div class="login">
      <h2>Sign In</h2>
      <form id="loginForm" action="/login" method="POST">
        <div class="inputBox">
          <input type="text" name="username" placeholder="Username" required>
        </div>
        <div class="inputBox password-container">
          <input type="password" id="password" name="password" placeholder="Password" required>
          <span id="togglePassword" class="toggle-password">üëÅÔ∏è</span>
        </div>
        <div class="inputBox">
          <input type="submit" value="Login" id="btn">
        </div>
      </form>
      <div class="group">
        <a href="/register">No account yet? <span class="register-link">Register Now</span></a>
      </div>
      

      <!-- Display error message -->
      <% if (message) { %>
        <p class="error-message" style="color: red;"><%= message %></p>
      <% } %>
    </div>

  </section>
  <script>
    // Toggle password visibility
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');
    togglePassword.addEventListener('click', () => {
      const type = passwordInput.type === 'password' ? 'text' : 'password';
      passwordInput.type = type;
      togglePassword.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
    });
  
    // Vibrate and shake the form only if the error message exists
    document.addEventListener('DOMContentLoaded', () => {
      const errorMessage = document.querySelector('.error-message');
      const loginForm = document.getElementById('loginForm');
  
      if (errorMessage && errorMessage.textContent.trim() !== '') {
        // If there's an error message, trigger the vibration and shake effect
  
        // Vibrate for 200ms (works on supported devices)
        if (window.navigator.vibrate) {
          window.navigator.vibrate(200);
        }
  
        // Add shake animation to the form
        loginForm.classList.add('shake');
        loginForm.addEventListener('animationend', () => {
          loginForm.classList.remove('shake');
        });
      }
    });
  </script>
  
  
</body>
</html>
